<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="initial-scale=1"><link rel="prefetch" href="/imgs/backgrounds/sky.jpg"><title>Kata Countdown word game - Willforsyth</title><meta property="og:title" content="Kata Countdown word game"/><meta name="description" content="Countdown word game task. Javascript and underscore.js"/><meta property="og:description" content="Countdown word game task. Javascript and underscore.js"/><link rel="canonical" href="willforsyth.co.uk/javascript/2016/06/13/kata-countdown.html"/><meta property="og:url" content="willforsyth.co.uk/javascript/2016/06/13/kata-countdown.html"/><meta property="og:site_name" content="Willforsyth"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2016-06-13T00:00:00+01:00"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@willforsyth"/><meta name="twitter:creator" content="@Will Forsyth"/><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Kata Countdown word game",
    "datePublished": "2016-06-13T00:00:00+01:00",
    "description": "Countdown word game task. Javascript and underscore.js",
    "url": "willforsyth.co.uk/javascript/2016/06/13/kata-countdown.html"
  }</script><title>Kata Countdown word game</title><link rel="stylesheet" media="all" href="/css/screen.css"><link data-require="leaflet@0.7.3" data-semver="0.7.3" rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.css"/><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@willforsyth"><meta name="twitter:title" content="Kata Countdown word game"><meta name="twitter:description" content="Countdown word game task. Javascript and underscore.js
"><meta name="twitter:image" content="http://willforsyth.co.uk/imgs/eye.png"></head><body class="post--page"><header class="hdr hdr--post"><nav role="navigation"><div class="column logo"><a href="/" data-type="page-transition" title="Go to home page" tabindex="2"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 38.9 566.9 459" enable-background="new 0 38.9 566.9 459"><g fill="#FAC580" stroke="#525D7D" stroke-linejoin="round" stroke-miterlimit="10"><path stroke-width="17.573" d="M280.2 418.2l-91.4-.1-26.8-38.3-28.5-66.2-23.5-70.6s-42.2-51.5-59.7-119.1c-13.1 1.5-35 4.4-35 4.4l23.3-69.1 128.3 10.3s44.7 42.2 50.1 69.6h63.2"/><path stroke-width="17.404" d="M280.1 418.2l89.6-.1 26.3-38.3 27.9-66.2 23-70.6s41.4-51.5 58.6-119.1c12.9 1.5 34.3 4.4 34.3 4.4l-22.8-69.2-125.9 10.3s-43.9 42.2-49.1 69.6h-62"/></g><path fill="#DF984A" stroke="#525D7D" stroke-width="17.485" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M492 124.8l-114.6-34.2 11.3-21.9s52.8-22.1 127-9.4c15.8 28.8 35.1 75.2 35.1 75.2l-58.8-9.7z"/><path fill="#DF984A" stroke="#525D7D" stroke-width="17.647" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M42.3 119.8l120.6-44.9-124.9-17.1-21.4 65.4z"/><path stroke="#525D7D" stroke-width="15.073" stroke-linecap="round" stroke-miterlimit="10" d="M445.6 240.3s-29.7-57.3-49-68.8" fill="none"/><path stroke="#525D7D" stroke-width="17.647" stroke-linecap="round" stroke-miterlimit="10" d="M109.9 236s17.6-37.4 45-59" fill="none"/><ellipse fill="#525D7D" cx="188.3" cy="262.2" rx="30.4" ry="29.4"/><ellipse fill="#525D7D" cx="366.7" cy="261.5" rx="29.4" ry="29.3"/><path stroke="#525D7D" stroke-width="17.647" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M235.1 216.6s-17.6-17-45.2-7.1M384.7 202.9s-22.8-9.1-44.5 10.6" fill="none"/><path stroke="#525D7D" stroke-width="11.765" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M143.5 152.9c-1.5-.7-22.4-40.1-22.4-40.1M421.4 146.5l12.9-25.2" fill="none"/><circle opacity=".42" fill="#fff" cx="190.2" cy="262.1" r="6.4"/><circle opacity=".42" fill="#fff" cx="364.7" cy="261.5" r="6.9"/><path fill="#DF984A" stroke="#525D7D" stroke-width="18.107" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M196.7 420.1s95.5 112.7 158.3.6l-71.8-49.7-86.5 49.1z"/><path fill="#fff" stroke="#525D7D" stroke-width="14.281" stroke-linejoin="round" stroke-miterlimit="10" d="M199.7 421l28.5 58.7 32.6-70z"/><path fill="#DF984A" stroke="#525D7D" stroke-width="17.195" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M280.2 282c11.7.6 22.8 5.8 38.8 20.4 13.9 22.6 45.9 82.3 49.6 116.6-25.9 15.6-70.3 18.6-88.2-27.5"/><path fill="#DF984A" stroke="#525D7D" stroke-width="17.419" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M280.6 282c-12 .5-22.8 5.7-39.2 20.2-14.3 22.5-47.2 82.2-51.1 116.5 26.6 15.6 72.1 18.7 90.5-27.4"/><path fill="#525D7D" stroke="#525D7D" stroke-width="5.882" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M269 383.1s16.6 15.8 30 0l15.8-23.3s2.5-23.3-10-25c-43.3 4.2-49.1 0-49.1 0s-13.3 16.6 0 32.5l13.3 15.8z"/><ellipse transform="matrix(.997 -.078 .078 .997 -26.916 23.144)" opacity=".42" fill="#fff" cx="282" cy="355.1" rx="6.6" ry="3.4"/></svg></a></div><a href="#content" class="offscreen" tabindex="1">Skip to Content</a><ul class="nav"><li><a href="/posts.html" title="A selection of blog posts, javascript, UX and design" tabindex="2" data-type="page-transition"><svg viewBox="0 0 100 100" class="icon icon--inline icon--center icon__pen"><use xlink:href="/imgs/sprite/icon-sprite.svg#icon__pen"></use><span tabindex="4">Blog</span></svg></a></li><li><a href="/ux-process.html" title="View my UX process" tabindex="3" data-type="page-transition"><svg viewBox="0 0 100 100" class="icon icon--inline icon--center icon__ux"><use xlink:href="/imgs/sprite/icon-sprite.svg#icon__ux"></use><span tabindex="4">UX process</span></svg></a></li><li><a href="/about.html" title="A weee bit about me" tabindex="5" data-type="page-transition"><svg viewBox="0 0 100 100" class="icon icon--inline icon--center icon__about"><use xlink:href="/imgs/sprite/icon-sprite.svg#icon__about"></use><span tabindex="4">About me</span></svg></a></li></ul></nav></header><aside class="sidebar grid column column__12-of-12 column__4-of-12--small column__3-of-12--medium"><a class="back" href="/posts.html" title="back">Back</a></aside><section class="column column__12-of-12 column__8-of-12--small column__9-of-12--medium column__6-of-12--large"><article class="post__main" role="main"><h1 class="">Kata Countdown word game</h1><section class="post__content"><p>We set ourselves a kata as part of out monthly meeting at work, to create a <a href="https://en.wikipedia.org/wiki/Countdown_(game_show)">countdown word game</a> from the UK gameshow. We could use any language we liked. The front end guys used <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">javascript</a> and the back end guys used <a href="https://golang.org/">go</a> and some used <a href="http://php.net/">php</a>.</p><h3>Here is my approach</h3><p>My idea was to get the list for letters and compare them against the words in the json. If the words contained the letters return the words. Then if the words only contained the letters, I knew these would be the words I needed. Then save the key for these so I could then return the words later. That was the idea anyway. After lots of research I decided to use <a href="http://underscorejs.org/">underscore.js</a> as it had this nice function <a href="http://underscorejs.org/#intersection">intersection</a>. The docs says “Computes the list of values that are the intersection of all the arrays. Each value in the result is present in each of the arrays.” So this was exactly what I wanted.</p><ol><li>Get a word list to use to compare. <a href="https://www.npmjs.com/package/word-list">npm word list</a></li><li>Access the word list and create a list of letters to use (add this into input later)</li><li>Using a for loop, loop over the objects and get the keys and the values.</li><li>Save the values to a variable.</li><li>Get the length of the values.</li><li>Using the <a href="http://underscorejs.org/#intersection">intersection</a> function compare my letters against the list of words.</li><li>If the length of the of the word with the matching items is the same length as a word in the dictionary it must be a full word, and this is what i want to return.</li><li>Find the key of the matching words.</li><li>Return the key reference which is the matching words.</li></ol><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// get the words</span>
<span class="kd">var</span> <span class="nx">wordsJson</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'word-list-json'</span><span class="p">);</span>

<span class="c1">// add in some letters</span>
<span class="kd">var</span> <span class="nx">letters</span> <span class="o">=</span><span class="p">[</span><span class="s1">'b'</span><span class="p">,</span><span class="s1">'e'</span><span class="p">,</span><span class="s1">'d'</span><span class="p">,</span><span class="s1">'n'</span><span class="p">,</span><span class="s1">'e'</span><span class="p">,</span><span class="s1">'r'</span><span class="p">,</span><span class="s1">'s'</span><span class="p">,</span><span class="s1">'h'</span><span class="p">];</span></code></pre></figure><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// for loop to get keys and values</span>
  <span class="k">for</span><span class="p">(</span><span class="nx">key</span> <span class="k">in</span> <span class="nx">wordsJson</span><span class="p">)</span> <span class="p">{</span>

      <span class="c1">// save the values to prop</span>
      <span class="kd">var</span> <span class="nx">prop</span> <span class="o">=</span> <span class="nx">wordsJson</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>

      <span class="c1">// Get the length of the values</span>
      <span class="kd">var</span> <span class="nx">wordsLength</span> <span class="o">=</span> <span class="nx">prop</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>

      <span class="c1">// using underscore find all the words that contain the letters</span>
      <span class="kd">var</span> <span class="nx">matchingLetters</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">intersection</span><span class="p">(</span><span class="nx">prop</span><span class="p">,</span> <span class="nx">letters</span><span class="p">);</span>

      <span class="c1">// if the length of the of the word with the matching items is the same</span>
      <span class="c1">// length as a word in the dictionary it must be a full word</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">matchingLetters</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="nx">prop</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span>

        <span class="c1">// find the key of the matching words</span>
        <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">matchingLetters</span> <span class="o">&amp;&amp;</span> <span class="nx">key</span><span class="p">;</span>

        <span class="c1">// log it out</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">wordsJson</span><span class="p">[</span><span class="nx">result</span><span class="p">]);</span>
      <span class="p">}</span>
  <span class="p">}</span>
  </code></pre></figure><h4>Improvements:</h4><p>Currently this method wont compare double letters :-(</p><h3>Source code</h3><p><a href="https://github.com/willforsyth/kata-countdown">github</a></p><div id="disqus_thread"></div><script>(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//willforsyth.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();</script></section><footer><a class="post-prev" href="/javascript/2016/06/13/javascript-map.html">&laquo; Interactive map</a> <a class="post-next" href="/javascript/2016/06/22/javascript-closures.html">Closures in javascript &raquo;</a></footer></article></section><footer role="contentinfo"><div class="column__center column column__12-of-12 column__10-of-12--medium"><div class="column column__12-of-12 column__6-of-12--medium"><h3 class="white">Get in touch</h3><ul><li><a href="https://github.com/willforsyth" title="Git hub" tabindex="11"><svg viewBox="0 0 100 100" class="icon icon--inline icon__github"><use xlink:href="/imgs/sprite/icon-sprite.svg#icon__github"></use></svg> <span>github</span></a></li><li><a href="https://twitter.com/willforsyth" title="follow me" tabindex="12"><svg viewBox="0 0 100 100" class="icon icon--inline icon__twitter"><use xlink:href="/imgs/sprite/icon-sprite.svg#icon__twitter"></use></svg> <span>twitter</span></a></li><li><a href="https://www.behance.net/willf" title="view some of my designs" tabindex="13"><svg viewBox="0 0 100 100" class="icon icon--inline icon__behance"><use xlink:href="/imgs/sprite/icon-sprite.svg#icon__behance"></use></svg> <span>behance</span></a></li><li><a href="mailto:info@willforsyth.co.uk" title="email me" tabindex="13"><svg viewBox="0 0 100 100" class="icon icon--inline icon__mail"><use xlink:href="/imgs/sprite/icon-sprite.svg#icon__mail"></use></svg> <span>info@willforsyth.co.uk</span></a></li></ul></div></div></footer><small>&copy; willforsyth | <a href="/pattern.html" title="we have patterns">Pattern Library</a></small><script data-require="leaflet@0.7.3" data-semver="0.7.3" src="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.js"></script><script src="/scripts/fuse-search.js"></script><script src="/scripts/fuse-search-two.js"></script><script src="/scripts/common.js"></script><script src="/scripts/plugins.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-78935405-1', 'auto');
  ga('send', 'pageview');</script></body></html>