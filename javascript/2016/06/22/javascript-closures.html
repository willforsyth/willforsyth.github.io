<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="initial-scale=1"><link rel="prefetch" href="/imgs/backgrounds/sky.jpg"><title>Closures in javascript - Willforsyth</title><meta property="og:title" content="Closures in javascript"/><meta name="description" content="Javascript closures"/><meta property="og:description" content="Javascript closures"/><link rel="canonical" href="willforsyth.co.uk/javascript/2016/06/22/javascript-closures.html"/><meta property="og:url" content="willforsyth.co.uk/javascript/2016/06/22/javascript-closures.html"/><meta property="og:site_name" content="Willforsyth"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2016-06-22T00:00:00+01:00"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@willforsyth"/><meta name="twitter:creator" content="@Will Forsyth"/><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Closures in javascript",
    "datePublished": "2016-06-22T00:00:00+01:00",
    "description": "Javascript closures",
    "url": "willforsyth.co.uk/javascript/2016/06/22/javascript-closures.html"
  }</script><title>Closures in javascript</title><link rel="stylesheet" media="all" href="/css/screen.css"><link data-require="leaflet@0.7.3" data-semver="0.7.3" rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.css"/></head><body class="post--page"><header class="hdr hdr--post"><div id="particles"></div><div class="column column__center column__12-of-12 column__8-of-12--small column__9-of-12--medium column__7-of-12--large hdr--cont"><nav role="navigation"><div class="column"><a href="/" data-type="page-transition" title="Go to home page" tabindex="2"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 250 156.493" class="icon__logo"><defs><linearGradient id="a" gradientUnits="userSpaceOnUse" x1="206.731" y1="221.727" x2="-1.028" y2="31.393"><stop offset="0" stop-color="#ffffff"/><stop offset="1" stop-color="#c1c1c1"/></linearGradient><linearGradient id="b" gradientUnits="userSpaceOnUse" x1="213.577" y1="184.298" x2="12.329" y2="-.072"><stop offset="0" stop-color="#ffffff"/><stop offset="1" stop-color="#c1c1c1"/></linearGradient><linearGradient id="c" gradientUnits="userSpaceOnUse" x1="242.991" y1="115.523" x2="67.21" y2="-45.514"><stop offset="0" stop-color="#ffffff"/><stop offset="1" stop-color="#c1c1c1"/></linearGradient></defs><path fill-rule="evenodd" clip-rule="evenodd" fill="url(#a)" d="M52.781 138.867s-23.137-49.161-30.066-64.425c-6.396-14.089-12.971-28.098-19.15-42.28-5.982-13.731-1.812-23.5 9.389-29.015 11.127-5.478 23.005-.147 28.658 12.263 8.212 18.025 35.936 65.438 35.936 65.438"/><path opacity=".05" fill-rule="evenodd" clip-rule="evenodd" fill="#0D3147" d="M45.202 122.736l25.714-53.351 7.303 11.888-25.438 57.594z"/><path fill-rule="evenodd" clip-rule="evenodd" fill="url(#b)" d="M178.829 84.054c-9.926 15.236-14.885 34.075-23.668 50.27-7.44-16.082-22.345-44.75-29.982-61.259-2.081 4.206-3.529 6.943-4.812 9.754-9.103 19.925-18.168 39.867-27.252 59.8-4.544 9.971-13.403 15.199-23.001 13.584-10.003-1.684-16.62-9.557-18.102-20.479-.6-4.416-.004-7.83 2.704-11.426 2.11-2.805 3.141-6.422 4.642-9.682 15.402-33.439 30.755-66.899 46.231-100.305 5.232-11.297 15.955-16.051 27.121-11.468 3.928 1.612 9.405 10.25 9.868 11.282 8.873 19.77 27.713 50.886 36.251 69.929z"/><path opacity=".05" fill-rule="evenodd" clip-rule="evenodd" fill="#0D3147" d="M149.537 121.766l23.294-49.942s4.895 11.107 5.615 11.129l-22.043 53.915-6.866-15.102z"/><path fill-rule="evenodd" clip-rule="evenodd" fill="url(#c)" d="M155.021 134.34c1.014-3.203 1.705-6.557 3.093-9.588 16.714-36.55 33.517-73.062 50.334-109.565 5.82-12.631 17.767-17.226 30.049-11.671 9.87 4.463 13.58 17.048 8.213 28.872-16.858 37.137-33.802 74.235-50.778 111.317-4.468 9.76-14.294 14.572-24.222 12.135-9.535-2.342-16.306-11.295-16.689-21.5z"/></svg></a></div><a href="#content" class="offscreen" tabindex="1">Skip to Content</a><ul class="nav"><li><a href="/posts.html" title="A selection of blog posts, javascript, UX and design" tabindex="2" data-type="page-transition">Blog</a></li><li><a href="/ux-process.html" title="View my UX process" tabindex="3" data-type="page-transition">UX process</a></li><li><a href="mailto:info@willforsyth.co.uk" title="" tabindex="6">Contact</a></li></ul></nav><div><h1 class="">Closures in javascript</h1></div></div></header><div class="sidebar grid column column__12-of-12 column__4-of-12--small column__3-of-12--medium"><a class="back" href="/posts.html" title="back">Back</a></div><main class="column column__12-of-12 column__8-of-12--small column__9-of-12--medium column__6-of-12--large"><article class="post__main" role="main"><section class="post__content"><h3>Working with closures</h3><p>A closure returns a function from within a function. The inner function retains access to the scope. It has reference to a variable from its parents environment. The best thing about a closures is that it allows us to access functions from within other functions by exposing the content we need.</p><blockquote><p>Closures create private functions that we can make accessible or not its up to you</p></blockquote><h4>Simple example</h4><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="kd">var</span> <span class="nx">closureExample</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
      <span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="o">++</span><span class="nx">num</span><span class="p">);</span>
    <span class="p">};</span>
    <span class="k">return</span> <span class="nx">result</span>
  <span class="p">}</span>

  <span class="c1">// store the function in a variable to access it later. This allows it to retain its lexical scope.</span>
  <span class="kd">var</span> <span class="nx">thisIsTheClosure</span> <span class="o">=</span> <span class="nx">closureExample</span><span class="p">();</span>

  <span class="c1">// invoke the function using its variable name and brackets</span>
  <span class="nx">thisIsTheClosure</span><span class="p">()</span></code></pre></figure><p>Each time the “thisIsTheClosure()” is invoked the function will run and it will remember each iteration. So the console will log, 1 then 2, then 3 etc. Where as if we did not create a closure and just called for closureExample() it would always log the value 1. This is because it creates a new instance each time and can’t “remember” past calls. Each time you run “thisIsTheClosure()” its running “return result” each time so this allows you to update “var num” each time.</p><h4>Multiple functions within one closure using methods</h4><p>This closure allows us to contain multiple function and call them separately. To do this we store the functions in an object so they become methods. Then we can call them individually.</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="kd">function</span> <span class="nx">counter</span><span class="p">(){</span>
    <span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="na">count</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span><span class="k">return</span> <span class="o">++</span><span class="nx">n</span><span class="p">;},</span>
      <span class="na">reset</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">};</span>
  <span class="p">};</span>

  <span class="kd">var</span> <span class="nx">myCounter</span> <span class="o">=</span> <span class="nx">counter</span><span class="p">();</span>

  <span class="c1">// How to access the functions within the closure</span>
  <span class="nx">myCounter</span><span class="p">.</span><span class="nx">count</span><span class="p">();</span>
  <span class="nx">myCounter</span><span class="p">.</span><span class="nx">reset</span><span class="p">();</span></code></pre></figure><div id="disqus_thread"></div><script>(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//willforsyth.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();</script></section><footer><a class="post-prev" href="/javascript/2016/06/13/kata-countdown.html">&laquo; Kata Countdown word game</a> <a class="post-next" href="/javascript/2016/06/22/javascript-prototypes-and-constructors.html">Prototypes and constructors functions in javascript &raquo;</a></footer></article></main><footer role="contentinfo"><div class="column column__center column__12-of-12 column__8-of-12--medium column__9-of-12--medium"><h3 class="white">Get in contact</h3><ul><li><a href="https://github.com/willforsyth" title="Git hub" tabindex="11"><svg viewBox="0 0 100 100" class="icon icon--inline icon__github"><use xlink:href="/imgs/sprite/icon-sprite.svg#icon__github"></use></svg> <span>github</span></a></li><li><a href="https://twitter.com/willforsyth" title="follow me" tabindex="12"><svg viewBox="0 0 100 100" class="icon icon--inline icon__twitter"><use xlink:href="/imgs/sprite/icon-sprite.svg#icon__twitter"></use></svg> <span>twitter</span></a></li><li><a href="https://www.behance.net/willf" title="view some of my designs" tabindex="13"><svg viewBox="0 0 100 100" class="icon icon--inline icon__behance"><use xlink:href="/imgs/sprite/icon-sprite.svg#icon__behance"></use></svg> <span>behance</span></a></li><li><a href="mailto:info@willforsyth.co.uk" title="email me" tabindex="13"><svg viewBox="0 0 100 100" class="icon icon--inline icon__mail"><use xlink:href="/imgs/sprite/icon-sprite.svg#icon__mail"></use></svg> <span>info@willforsyth.co.uk</span></a></li></ul></div></footer><small>&copy; willforsyth | <a href="/pattern.html" title="we have patterns">Pattern Library</a></small><script data-require="leaflet@0.7.3" data-semver="0.7.3" src="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.js"></script><script src="/scripts/fuse-search.js"></script><script src="/scripts/fuse-search-two.js"></script><script src="/scripts/common.js"></script><script src="/scripts/plugins.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-78935405-1', 'auto');
  ga('send', 'pageview');</script></body></html>