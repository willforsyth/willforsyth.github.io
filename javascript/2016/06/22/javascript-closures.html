<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="initial-scale=1"><link rel="prefetch" href="/imgs/backgrounds/sky.jpg"><title>Closures in javascript - Willforsyth</title><meta property="og:title" content="Closures in javascript"/><meta name="description" content="Javascript closures"/><meta property="og:description" content="Javascript closures"/><link rel="canonical" href="willforsyth.co.uk/javascript/2016/06/22/javascript-closures.html"/><meta property="og:url" content="willforsyth.co.uk/javascript/2016/06/22/javascript-closures.html"/><meta property="og:site_name" content="Willforsyth"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2016-06-22T00:00:00+01:00"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@willforsyth"/><meta name="twitter:creator" content="@Will Forsyth"/><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Closures in javascript",
    "datePublished": "2016-06-22T00:00:00+01:00",
    "description": "Javascript closures",
    "url": "willforsyth.co.uk/javascript/2016/06/22/javascript-closures.html"
  }</script><title>Closures in javascript</title><link rel="stylesheet" media="all" href="/css/screen.css"><link data-require="leaflet@0.7.3" data-semver="0.7.3" rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.css"/></head><body class="post--page"><header class="hdr hdr--post"><nav role="navigation"><div class="column"><a href="/" data-type="page-transition" title="Go to home page" tabindex="2"><svg viewBox="0 0 200 100" enable-background="new 0 0 200 100" class="icon__logo"><path fill="#FCCC81" d="M91.2 70.3l.2.1c2.2 1 4.2 1.7 6.2 2.1 4.8.3 9.6-1.5 13.4-4.8-.4-1.4 0-3.1 1.6-4 .7-.4 1.3-.8 1.9-1.3l.6-1.2c.3-.9.3-2 .4-2.9.2-1.6-.1-3.2-.3-4.8-.4-2.1-3.3-2.1-4.3-.6-.6 1-1.3 2-2.1 2.9l-1.5 1.6c-.1.1-.2.2-.2.4-.4 0-.7.1-1.1.2-2.7.9-6.5 2.3-9.3 1.2-2.1-.8-4.6-3.1-5.6-5.1-.7-1.5-3-1.7-4-.5-2.3 2.5-3 5.5-2.5 8.4 1.7 2.6 3.7 4.9 5.9 7.2.3.4.5.7.7 1.1z"/><path fill="#E0DFE6" d="M43.5 64.5c5.7-1.6 11.6-3.6 16.8-6.6 3.4-1.9.3-7.3-3.1-5.3-4.9 2.8-9.6 5.7-14.8 7.8-2.4 1.1-1.5 4.8 1.1 4.1zM168.4 66.9c3.4.7 6.2-4.4 2.6-6.1-3.9-1.8-7.9-2.9-11.5-5.5-2.3-1.6-4.4 1.7-2.8 3.6 3 3.6 7 7.1 11.7 8zM172.5 58.3c1.2.6 2.5 1 3.8 1.2 1.3.2 2.8-.3 3.1-1.8.3-1.3-.4-2.7-1.8-3.1l-1.3-.4-.4-.2-.8-.4c-1.2-.7-3-.3-3.7 1-.5 1.2-.3 3 1.1 3.7zM25.2 63.2c5 1.6 11.3-2.4 14.7-5.7 3.9-3.7-2.7-9.3-6-4.6-1.2 1.6-2.7 3.1-4.3 4.3-1.6 1.1-3.6 1.8-5.1 3.1-1 .9-.4 2.5.7 2.9zM66 59.6c.7.6 1.6.8 2.4.5 3.6 8.3 12 15.9 20 18.4 5.3 1.7 12.4 2.2 18 1.6 6.1-.6 11.6-2.5 15.9-7 .8-.8 1-1.7 1-2.5 5.3-3.4 9.5-8.3 11.5-14.3 0 .3.1.6.3.8 2.1 2.9 5.5 4.7 8.4 6.7 3.4 2.4 6.6 4.9 10.9 3.7 4.8-1.3 4.4-7.8 0-9.3-3-1-6.1-1.9-9.1-3-2.8-1.1-5.8-2-8.9-1.5-.4.1-.8.3-1.1.6l.6-2.7c.1-.8-.7-1.3-1.4-.8-3.4 2.7-6.8 5.4-10.3 7.9-.1-2.2-.7-4.4-1.9-6.4-.9-1.4-3.4-.9-3.3.9.3 3.8-1.7 7-4.6 9.2-.6.5-1.2.9-1.9 1.3-1.6 1-2 2.6-1.6 4v.1c-1.4.9-1.9 2.3-1.7 3.7-1.3.4-2.6.8-3.9 1-2.9.5-5.3.4-7.7 0-2-.4-4-1.1-6.2-2.1l-.2-.1c-.2-.4-.4-.7-.7-1.1-2.2-2.3-4.3-4.6-5.9-7.2-.9-1.5-1.7-3-2.4-4.7-.2-.5-.5-.8-.9-.9l-.1-1.6c-.1-.9-1.2-1-1.5-.2-.9 2.4-1.7 5.2-1.8 7.9-3.4-2.7-6.3-5.8-8.2-9.6-.7-1.4-3.1-.8-3 .8l.1.8c-.3-.2-.7-.3-1.1-.3-.3 0-.5.1-.7.4-.4.7-.3 1.4-.2 2.1.1 1 .4 2.2 1.2 2.9z"/><path fill="#525D7D" d="M104 80.6c14.4-1.1 24.8-7.7 32-20.2-.6-.5-.8-1.4-.4-2 .4-.6 1.1-.8 1.8-.6.9-1.8 1.7-3.6 2.5-5.6.2-.6.1-1.2-.3-1.6-2.5-2.5-5.1-4.7-7.8-6.7-.8.4-1.6.7-2.3 1.1-.5.2-1 .2-1.4-.1 3 2 5.9 4.4 8.7 7.1-7.4 17.8-19 25.8-37.5 25.8-13.9 0-25.4-7.5-36.2-23.7 9.2-11.3 23.5-18.3 37.5-18.3 9.3 0 18.8 3.1 27.4 9-.2-.1-.4-.3-.5-.6-.4-.7 0-1.6.7-2 .2-.1.5-.2.8-.4-9-5.9-18.7-9.1-28.4-9.1-9.2 0-18.5 2.9-26.6 7.9l.7.3c.8.3 1.1 1.2.7 2-.3.8-1.2 1.1-2 .7l-2.4-1.1c-4 3-7.8 6.5-10.9 10.5-.4.5-.4 1.2-.1 1.7l.9 1.3 1.3-.8c.7-.5 1.6-.3 2.1.4s.3 1.6-.4 2.1l-1.2.8c10.8 15.1 22.6 22.2 36.7 22.2h1.7M102.3 80.7"/><path fill="#525D7D" d="M99.9 39.4c-1.6 0-3.2.2-4.7.7-7.1 2.1-12.2 9-12.2 16.4 0 8.5 7.4 17.5 18.4 17.5 9.6 0 17.1-7.4 17.1-16.8 0-9.8-8.4-17.8-18.6-17.8zm1.5 31.6c-9.2 0-15.4-7.4-15.4-14.4 0-6.1 4.2-11.8 10.1-13.6 1.2-.4 2.5-.6 3.9-.6 8.6 0 15.6 6.6 15.6 14.7-.1 7.9-6.3 13.9-14.2 13.9zM100.4 49.2c-.7 0-1.4.1-2.1.3-3.2.9-5.4 3.9-5.4 7.2 0 3.7 3.2 7.6 8 7.6 4.1 0 7.5-3.3 7.5-7.4.1-4.3-3.5-7.7-8-7.7zm.6 12.1c-2.9 0-5-2.4-5-4.6 0-2 1.4-3.8 3.2-4.3.4-.1.8-.2 1.2-.2 2.8 0 5.1 2.1 5.1 4.7 0 2.5-2 4.4-4.5 4.4zM3.1 57.5c8.1.5 16.2-.5 24.1-3-1.6 2.4-3.7 4.8-6.1 7.1-.5.4-.6 1.1-.3 1.7.2.6.8.9 1.5.9 4.7-.3 11.3-1.1 17.9-5-.3 1.8-.8 3.2-1.5 4.5-.3.5-.2 1.1.1 1.6.3.4.7.6 1.2.6h.3c7.2-1.3 15.5-3.2 22.6-7.5l1.2-.8c.7-.5.9-1.4.4-2.1-.5-.7-1.4-.9-2.1-.4l-1.3.8c-5.8 3.5-12.4 5.3-18.6 6.5.6-1.8.9-3.8 1.1-6.2 0-.6-.3-1.1-.8-1.4-.5-.3-1.1-.2-1.6.1-5.1 3.8-10.6 5.2-15 5.8 2.5-2.8 4.5-5.6 5.9-8.4.3-.6.2-1.2-.2-1.7s-1.1-.6-1.6-.4c-6.7 2.5-13.6 3.9-20.6 4.2 10.1-5.4 19.5-12.3 27.5-20.4 1.9-2 4.3-3.1 6.5-3.1 3.1 0 13.1 4.8 21.1 8.7 2.2 1.1 4.3 2.1 6.3 3 .8.4 1.6.8 2.4 1.1.8.3 1.6 0 2-.7.3-.8 0-1.6-.7-2l-.7-.3c-2.5-1.1-5.1-2.4-7.9-3.8-11.2-5.4-18.9-9-22.4-9-3 0-6.2 1.4-8.7 4-9.2 9.3-20.1 17-32.5 22.8-.6.3-1 1-.8 1.6 0 .7.6 1.2 1.3 1.2zM127.5 44.2c.1.2.3.4.5.6l.1.1c.4.2.9.3 1.4.1l2.3-1.1 3.3-1.6c8-3.9 18-8.7 21.1-8.7 2.2 0 4.6 1.1 6.5 3.1 8 8.1 17.3 15 27.8 20.6-7-.3-13.9-1.7-20.6-4.2-.6-.2-1.2-.1-1.6.4-.4.5-.5 1.1-.2 1.7 1.4 2.8 3.3 5.6 5.9 8.4-4.5-.6-9.9-2.1-15-5.8-.5-.3-1.1-.4-1.6-.1-.5.3-.8.8-.8 1.4.2 2.4.5 4.4 1.1 6.2-6.6-1.3-13.9-3.3-19.9-7.3l-.3-.2c-.6-.2-1.4 0-1.8.6-.4.7-.3 1.6.4 2 7.3 4.9 16.1 6.9 23.8 8.2h.3c.5 0 .9-.2 1.2-.6.3-.5.4-1.1.1-1.6-.7-1.3-1.2-2.7-1.5-4.5 6.6 3.9 13.2 4.7 17.9 5 .6 0 1.2-.3 1.5-.9.2-.6.1-1.2-.3-1.7-2.5-2.4-4.5-4.7-6.1-7.1 7.9 2.4 16 3.5 24.1 3 .7 0 1.3-.5 1.4-1.2.1-.7-.2-1.3-.8-1.6-12.4-5.8-23.4-13.5-32.5-22.8-2.5-2.5-5.6-4-8.7-4-3.5 0-11.2 3.5-22.4 9-1.7.8-3.3 1.6-4.9 2.3-.3.1-.5.2-.8.4-.9.2-1.3 1.1-.9 1.9zM77.6 31.9c.3.4.7.6 1.2.6.3 0 .6-.1.9-.3.7-.5.8-1.5.3-2.1-1.8-2.3-3.6-4.2-5.4-5.9-.6-.6-1.6-.5-2.1.1-.6.6-.5 1.6.1 2.1 1.6 1.5 3.3 3.3 5 5.5zM90.6 26.5c.1.4.2.8.2 1.2.1.7.8 1.2 1.5 1.2h.3c.8-.2 1.3-1 1.2-1.8-.1-.4-.2-.8-.2-1.2-.3-1.8-.7-3.8-1.7-5.4-.4-.7-1.4-.9-2.1-.5-.7.4-.9 1.4-.5 2.1.7 1.2 1 2.7 1.3 4.4zM106.8 28.7c.8 0 1.5-.7 1.5-1.5 0-1 .2-2.1.4-3.2.2-.8.3-1.6.4-2.5.1-.8-.5-1.6-1.3-1.7-.8-.1-1.6.5-1.7 1.3-.1.7-.2 1.5-.4 2.2-.2 1.2-.5 2.5-.5 3.8.1 1 .7 1.6 1.6 1.6zM120.4 31.3c.2.1.4.1.5.1.6 0 1.2-.4 1.4-1 .2-.7.6-1.3.9-1.9.5-.9 1-1.9 1.3-3.1.2-.8-.3-1.6-1.1-1.8-.8-.2-1.6.3-1.8 1.1-.2.8-.6 1.6-1 2.4-.4.7-.8 1.4-1.1 2.3-.2.7.2 1.6.9 1.9z"/></svg></a></div><a href="#content" class="offscreen" tabindex="1">Skip to Content</a><ul class="nav"><li><a href="/posts.html" title="A selection of blog posts, javascript, UX and design" tabindex="2" data-type="page-transition"><svg viewBox="0 0 100 100" class="icon icon--inline icon--center icon__pen"><use xlink:href="/imgs/sprite/icon-sprite.svg#icon__pen"></use><span tabindex="4">Blog</span></svg></a></li><li><a href="/ux-process.html" title="View my UX process" tabindex="3" data-type="page-transition"><svg viewBox="0 0 100 100" class="icon icon--inline icon--center icon__ux"><use xlink:href="/imgs/sprite/icon-sprite.svg#icon__ux"></use><span tabindex="4">UX process</span></svg></a></li></ul></nav></header><div class="sidebar grid column column__12-of-12 column__4-of-12--small column__3-of-12--medium"><a class="back" href="/posts.html" title="back">Back</a></div><main class="column column__12-of-12 column__8-of-12--small column__9-of-12--medium column__8-of-12--large"><article class="post__main" role="main"><h1 class="">Closures in javascript</h1><section class="post__content"><h3>Working with closures</h3><p>A closure returns a function from within a function. The inner function retains access to the scope. It has reference to a variable from its parents environment. The best thing about a closures is that it allows us to access functions from within other functions by exposing the content we need.</p><blockquote><p>Closures create private functions that we can make accessible or not its up to you</p></blockquote><h4>Simple example</h4><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="kd">var</span> <span class="nx">closureExample</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
      <span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="o">++</span><span class="nx">num</span><span class="p">);</span>
    <span class="p">};</span>
    <span class="k">return</span> <span class="nx">result</span>
  <span class="p">}</span>

  <span class="c1">// store the function in a variable to access it later. This allows it to retain its lexical scope.</span>
  <span class="kd">var</span> <span class="nx">thisIsTheClosure</span> <span class="o">=</span> <span class="nx">closureExample</span><span class="p">();</span>

  <span class="c1">// invoke the function using its variable name and brackets</span>
  <span class="nx">thisIsTheClosure</span><span class="p">()</span></code></pre></figure><p>Each time the “thisIsTheClosure()” is invoked the function will run and it will remember each iteration. So the console will log, 1 then 2, then 3 etc. Where as if we did not create a closure and just called for closureExample() it would always log the value 1. This is because it creates a new instance each time and can’t “remember” past calls. Each time you run “thisIsTheClosure()” its running “return result” each time so this allows you to update “var num” each time.</p><h4>Multiple functions within one closure using methods</h4><p>This closure allows us to contain multiple function and call them separately. To do this we store the functions in an object so they become methods. Then we can call them individually.</p><figure class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="kd">function</span> <span class="nx">counter</span><span class="p">(){</span>
    <span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="na">count</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span><span class="k">return</span> <span class="o">++</span><span class="nx">n</span><span class="p">;},</span>
      <span class="na">reset</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">};</span>
  <span class="p">};</span>

  <span class="kd">var</span> <span class="nx">myCounter</span> <span class="o">=</span> <span class="nx">counter</span><span class="p">();</span>

  <span class="c1">// How to access the functions within the closure</span>
  <span class="nx">myCounter</span><span class="p">.</span><span class="nx">count</span><span class="p">();</span>
  <span class="nx">myCounter</span><span class="p">.</span><span class="nx">reset</span><span class="p">();</span></code></pre></figure><div id="disqus_thread"></div><script>(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//willforsyth.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();</script></section><footer><a class="post-prev" href="/javascript/2016/06/13/kata-countdown.html">&laquo; Kata Countdown word game</a> <a class="post-next" href="/javascript/2016/06/22/javascript-prototypes-and-constructors.html">Prototypes and constructors functions in javascript &raquo;</a></footer></article></main><footer role="contentinfo"><div class="column column__center column__12-of-12 column__8-of-12--medium column__9-of-12--medium"><h3 class="white">Get in touch</h3><ul><li><a href="https://github.com/willforsyth" title="Git hub" tabindex="11"><svg viewBox="0 0 100 100" class="icon icon--inline icon__github"><use xlink:href="/imgs/sprite/icon-sprite.svg#icon__github"></use></svg> <span>github</span></a></li><li><a href="https://twitter.com/willforsyth" title="follow me" tabindex="12"><svg viewBox="0 0 100 100" class="icon icon--inline icon__twitter"><use xlink:href="/imgs/sprite/icon-sprite.svg#icon__twitter"></use></svg> <span>twitter</span></a></li><li><a href="https://www.behance.net/willf" title="view some of my designs" tabindex="13"><svg viewBox="0 0 100 100" class="icon icon--inline icon__behance"><use xlink:href="/imgs/sprite/icon-sprite.svg#icon__behance"></use></svg> <span>behance</span></a></li><li><a href="mailto:info@willforsyth.co.uk" title="email me" tabindex="13"><svg viewBox="0 0 100 100" class="icon icon--inline icon__mail"><use xlink:href="/imgs/sprite/icon-sprite.svg#icon__mail"></use></svg> <span>info@willforsyth.co.uk</span></a></li></ul></div></footer><small>&copy; willforsyth | <a href="/pattern.html" title="we have patterns">Pattern Library</a></small><script data-require="leaflet@0.7.3" data-semver="0.7.3" src="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.js"></script><script src="/scripts/fuse-search.js"></script><script src="/scripts/fuse-search-two.js"></script><script src="/scripts/common.js"></script><script src="/scripts/plugins.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-78935405-1', 'auto');
  ga('send', 'pageview');</script></body></html>